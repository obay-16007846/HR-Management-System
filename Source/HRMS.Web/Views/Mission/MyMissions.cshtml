@model List<Mission>
@{
    Layout = "_Layout";
}

<div class="card">
    <div class="card-header">
        <h2 class="card-title">My Missions</h2>
    </div>

    @if (Model != null && Model.Count > 0)
    {
        <div style="margin-top: 20px;">
            <table class="table" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f3f4f6; border-bottom: 2px solid #e5e7eb;">
                        <th style="padding: 12px; text-align: left;">Destination</th>
                        <th style="padding: 12px; text-align: left;">Start Date</th>
                        <th style="padding: 12px; text-align: left;">End Date</th>
                        <th style="padding: 12px; text-align: left;">Status</th>
                        <th style="padding: 12px; text-align: left;">Manager</th>
                        <th style="padding: 12px; text-align: left;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var mission in Model)
                    {
                        <tr style="border-bottom: 1px solid #e5e7eb;">
                            <td style="padding: 12px;">@mission.Destination</td>
                            <td style="padding: 12px;">@mission.StartDate.ToString("yyyy-MM-dd")</td>
                            <td style="padding: 12px;">@mission.EndDate.ToString("yyyy-MM-dd")</td>
                            <td style="padding: 12px;">
                                <span class="badge" style="
                                    background-color: @(mission.Status == "Approved" || mission.Status == "Assigned" ? "#10b981" : 
                                                       mission.Status == "Rejected" ? "#ef4444" : 
                                                       mission.Status == "Completed" ? "#3b82f6" : "#f59e0b");
                                    color: white;
                                    padding: 4px 12px;
                                    border-radius: 12px;
                                    font-size: 0.875rem;
                                ">
                                    @mission.Status
                                </span>
                            </td>
                            <td style="padding: 12px;">@(mission.ManagerName ?? "N/A")</td>
                            <td style="padding: 12px;">
                                <a asp-action="ViewMission" asp-route-id="@mission.MissionId" class="btn" style="padding: 6px 12px; font-size: 0.875rem;">
                                    View Details
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div style="padding: 40px; text-align: center; color: #6b7280;">
            <p>No missions assigned to you.</p>
        </div>
    }
</div>

