@model DiversityReport
@{
    Layout = "_Layout";
}

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Diversity Report</h2>
    </div>

    <div style="padding: 24px;">
        <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); padding: 32px; border-radius: 12px; color: white; margin-bottom: 32px; text-align: center;">
            <h2 style="margin: 0 0 8px 0; font-size: 3rem; color: #000000;">@Model.TotalEmployees</h2>
            <p style="margin: 0; font-size: 1.2rem; opacity: 0.9; color: #000000;">Total Active Employees</p>
        </div>

        <h3 style="margin-bottom: 20px; color: #000000;">Department Distribution</h3>
        
        @if (Model.DepartmentDistribution != null && Model.DepartmentDistribution.Count > 0)
        {
            <div style="display: grid; gap: 16px;">
                @foreach (var dept in Model.DepartmentDistribution.OrderByDescending(d => d.Value))
                {
                    var percentage = Model.TotalEmployees > 0 ? (dept.Value * 100.0 / Model.TotalEmployees) : 0;
                    <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="font-weight: 600; color: #000000;">@dept.Key</span>
                            <span style="font-weight: 600; color: #000000;">@dept.Value employees (@percentage.ToString("F1")%)</span>
                        </div>
                        <div style="background-color: #e5e7eb; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%); height: 100%; width: @percentage%; transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <p style="color: #6b7280;">No department distribution data available.</p>
        }

        <div style="margin-top: 32px;">
            <a asp-action="ComplianceReport" class="btn" style="background-color: #3b82f6; color: white; margin-right: 12px;">
                View Compliance Report
            </a>
            <a asp-action="DepartmentStatistics" class="btn" style="background-color: #6b7280; color: white;">
                View Department Statistics
            </a>
        </div>
    </div>
</div>

