@{
    Layout = "_Layout";
}

<div class="card" style="max-width: 450px; margin: 40px auto;">
    <div class="card-header">
        <h2 class="card-title">Login</h2>
    </div>
    
    <div class="info-box" style="padding: 24px 24px 24px 24px; margin-top: 24px; margin-bottom: 24px; margin-left: 24px; margin-right: 24px;">
        <small>First time logging in? Enter your email and you'll be prompted to set your password (National ID).</small>
    </div>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-error">
            @ViewBag.Error
        </div>
    }

    <form method="post">
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required />
        </div>

        <div class="form-group">
            <label for="nationalId">National ID (Password)</label>
            <div class="password-toggle-container">
                <input type="password" id="nationalId" name="nationalId" placeholder="Enter your National ID" style="flex: 1;" />
                <button type="button"
                        class="password-toggle-btn"
                        aria-label="Show password while holding"
                        onmousedown="showPassword()"
                        onmouseup="hidePassword()"
                        onmouseleave="hidePassword()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z" />
                        <circle cx="12" cy="12" r="3" />
                    </svg>
                </button>
            </div>
        </div>

        <button type="submit" style="width: 100%;">Login</button>
    </form>

    <div style="margin-top: 20px; text-align: center;">
        <p style="margin: 0; color: var(--text-secondary);">
            System Admin, HR Admin, or Line Manager? 
            <a href="@Url.Action("Register", "Account")" style="font-weight: 500;">Create your account here</a>
        </p>
    </div>
</div>

<script>
    function showPassword() {
        const pwd = document.getElementById('nationalId');
        pwd.type = 'text';
    }

    function hidePassword() {
        const pwd = document.getElementById('nationalId');
        pwd.type = 'password';
    }
</script>
